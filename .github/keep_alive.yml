# .github/workflows/keep_alive.yml
# EmpÃªche les apps Streamlit Community Cloud de passer en veille
# en les visitant automatiquement toutes les 6 heures.
# Pour ajouter une nouvelle app : copiez un bloc "Ping" et changez l'URL.

name: Keep Streamlit Apps Alive

on:
  schedule:
    - cron: "0 */6 * * *"
  workflow_dispatch:

jobs:
  ping:
    runs-on: ubuntu-latest
    steps:
      - name: Ping Portfolio
        run: |
          echo "ğŸ”” Ping Portfolio â€” $(date -u '+%Y-%m-%d %H:%M UTC')"
          curl -s -o /dev/null --max-time 60 --retry 3 --retry-delay 10 "https://portfolio-nicodeme.streamlit.app/"
          echo "âœ… Portfolio OK"

      - name: Ping Analyseur de Sentiment
        run: |
          echo "ğŸ”” Ping Analyseur de Sentiment"
          curl -s -o /dev/null --max-time 60 --retry 3 --retry-delay 10 "https://analyseur-sentiment.streamlit.app/"
          echo "âœ… Analyseur de Sentiment OK"

      - name: Ping Ecosystem Simulator
        run: |
          echo "ğŸ”” Ping Ecosystem Simulator"
          curl -s -o /dev/null --max-time 60 --retry 3 --retry-delay 10 "https://ecosystem-simulator.streamlit.app/"
          echo "âœ… Ecosystem Simulator OK"

      # â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
      # AJOUTER UNE NOUVELLE APP :
      # Copiez le bloc ci-dessous et remplacez l'URL et le nom
      # â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
      # - name: Ping Nouvelle App
      #   run: |
      #     echo "ğŸ”” Ping Nouvelle App"
      #     curl -s -o /dev/null --max-time 60 --retry 3 --retry-delay 10 "https://nouvelle-app.streamlit.app/"
      #     echo "âœ… Nouvelle App OK"
